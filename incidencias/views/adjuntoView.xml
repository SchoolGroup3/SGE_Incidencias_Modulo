<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Adjunto Tree-->
        <record id="adjunto_tree" model="ir.ui.view">
            <field name="name">incidencias.adjunto.tree</field>
            <field name="model">incidencias.adjunto</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="nombre_archivo"/>
                    <field name="ruta_archivo"/>
                    <field name="fecha_subida"/>
                </tree>
            </field>
        </record>
        <!-- Adjunto Form-->
        <record id="adjunto_form" model="ir.ui.view">
            <field name="name">incidencias.adjunto.form</field>
            <field name="model">incidencias.adjunto</field>
            <field name="arch" type="xml">
                <form string="Adjunto">
                    <sheet>
                        <h2 style="text-align:left; margin-bottom:20px;">
                            Archivo Adjunto
                        </h2>
                        <group>
                            <group>
                                <field name="name" placeholder="Ej: Mikel"/>
                                <field name="nombre_archivo" placeholder="Ej: informe.pdf"/>
                                <field name="ruta_archivo" filename="nombre_archivo"/>
                            </group>
                            <group>
                                <field name="fecha_subida"/>
                                <field name="proyecto"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Vista Previa" icon="fa-image">
                                <div style="display:flex; justify-content:left; align-items:center;">
                                    <field name="ruta_archivo" filename="nombre_archivo" widget="image" style="max-height:150px; max-width:150px; border-radius:8px;"/>
                                </div>
                            </page>
                            <page string="Detalles" icon="fa-info-circle">
                                <group>
                                    <field name="name"/>
                                    <field name="nombre_archivo"/>
                                    <field name="fecha_subida"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- Adjunto Kanban-->
        <record id="adjunto_kanban" model="ir.ui.view">
            <field name="name">incidencias.adjunto.kanban</field>
            <field name="model">incidencias.adjunto</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_small_column">
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click" style="padding:10px;">
                                <div class="o_kanban_details">
                                    <div style="text-align:center; font-weight:bold; margin-bottom:8px;">
                                        <span class="fa fa-paperclip" style="margin-right:5px;"/>
                                        <field name="name"/>
                                    </div>
                                    <div style="display:flex; justify-content:center; align-items:center; margin-bottom:8px;">
                                        <field name="ruta_archivo" filename="nombre_archivo" widget="image"
                                    style="max-height:100px; max-width:100px; border-radius:6px;"/>
                                    </div>
                                    <div style="text-align:center; font-size:12px;">
                                        <span class="fa fa-calendar" style="margin-right:4px;"/>
                                        <field name="fecha_subida"/>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        <!-- Adjunto search-->
        <record id="adjunto_search" model="ir.ui.view">
            <field name="name">incidencias.adjunto.search</field>
            <field name="model">incidencias.adjunto</field>
            <field name="arch" type="xml">
                <search string="Buscar Adjuntos">
                    <field name="name"/>
                    <!--<field name="fecha_subida"/>-->
                </search>
            </field>
        </record>
    </data>
</odoo>